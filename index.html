<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fired Heater Efficiency — API-560 Heat Loss Method, Measurement & Best Practices</title>
    <meta name="description" content="Comprehensive guide to fired heater efficiency calculation using API-560 standards, covering heat loss methods, measurement techniques, and optimization strategies.">
    <link rel="stylesheet" href="assets/css/tailwind.css">
    <script>
        (function () {
            const head = document.head || document.getElementsByTagName('head')[0];

            function assignScriptAttributes(target, attributes) {
                if (!attributes) return;
                Object.entries(attributes).forEach(([key, value]) => {
                    if (value === undefined || value === null) return;
                    if (key === 'async' && value === false) {
                        target.async = false;
                    } else if (key === 'defer') {
                        target.defer = Boolean(value);
                    } else if (key === 'type') {
                        target.type = value;
                    } else {
                        target.setAttribute(key, value);
                    }
                });
            }

            function loadScriptWithFallback(src, fallback, attributes) {
                return new Promise((resolve) => {
                    const cacheBustedSrc = src.includes('?') ? `${src}&cb=${Date.now()}` : `${src}?cb=${Date.now()}`;
                    const primary = document.createElement('script');
                    assignScriptAttributes(primary, attributes);
                    primary.src = cacheBustedSrc;
                    primary.onerror = () => {
                        console.warn(`Failed to load ${src}, continuing with fallback ${fallback}`);
                    };

                    const secondary = document.createElement('script');
                    assignScriptAttributes(secondary, attributes);
                    secondary.src = fallback;
                    secondary.onload = () => resolve(secondary);
                    secondary.onerror = (error) => {
                        console.error(`Failed to load fallback script ${fallback}`, error);
                        resolve(secondary);
                    };

                    head.appendChild(primary);
                    head.appendChild(secondary);
                });
            }

            window.__resourcePromises = {
                tailwind: loadScriptWithFallback('assets/vendor/cdn.tailwindcss.com.js?v=1', 'assets/vendor/tailwindcss.stub.js', { defer: true }),
                chart: loadScriptWithFallback('assets/vendor/cdn.jsdelivr.net_chart.js?v=1', 'assets/vendor/chart.umd.js', { defer: true }),
                mermaid: loadScriptWithFallback('assets/vendor/cdn.jsdelivr.net_mermaid.js?v=1', 'assets/vendor/mermaid.min.js', { defer: true })
            };
        }());
    </script>
    <style>
        html, body {
            width: 100%;
            max-width: 100%;
            overflow-x: hidden;
        }
        body {
            touch-action: pan-y;
            overscroll-behavior-x: none;
            overscroll-behavior-inline: contain;
            background-image:
                radial-gradient(circle at top left, rgba(59, 130, 246, 0.15), transparent 60%),
                radial-gradient(circle at bottom right, rgba(99, 102, 241, 0.12), transparent 65%),
                radial-gradient(circle at center, rgba(167, 139, 250, 0.08), transparent 70%);
            background-repeat: no-repeat;
            background-attachment: fixed;
            animation: subtleFloat 20s ease-in-out infinite;
        }
        @keyframes subtleFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        html.dark body {
            background-image:
                radial-gradient(circle at top left, rgba(59, 130, 246, 0.25), transparent 65%),
                radial-gradient(circle at bottom right, rgba(129, 140, 248, 0.20), transparent 70%),
                radial-gradient(circle at center, rgba(167, 139, 250, 0.12), transparent 75%);
        }
        body.mobile-menu-open,
        body.toc-open {
            height: 100vh;
            overflow: hidden;
        }
        .sticky-nav { backdrop-filter: blur(12px); }
        .nav-active {
            border-bottom: 2px solid currentColor;
        }
        .section-padding {
            padding-top: 4rem;
            padding-bottom: 4rem;
            padding-left: 1rem;
            padding-right: 1rem;
        }
        @media (min-width: 640px) {
            .section-padding {
                padding-left: 1.5rem;
                padding-right: 1.5rem;
            }
        }
        @media (min-width: 1024px) {
            .section-padding {
                padding-left: 2rem;
                padding-right: 2rem;
            }
        }
        .container-max {
            max-width: 80rem;
            margin-left: auto;
            margin-right: auto;
        }
        .hero-section {
            position: relative;
            overflow: hidden;
        }
        .hero-section::before,
        .hero-section::after {
            content: '';
            position: absolute;
            width: 400px;
            height: 400px;
            border-radius: 9999px;
            filter: blur(80px);
            opacity: 0.6;
            animation: heroFloat 15s ease-in-out infinite alternate;
        }
        @keyframes heroFloat {
            0% { transform: translate(0, 0) scale(1); }
            100% { transform: translate(-20px, -15px) scale(1.1); }
        }
        .hero-section::before {
            top: -100px;
            left: -150px;
            background: linear-gradient(135deg, rgba(191, 219, 254, 0.7), rgba(147, 197, 253, 0.5));
            animation-delay: 0s;
        }
        .hero-section::after {
            bottom: -150px;
            right: -100px;
            background: linear-gradient(135deg, rgba(129, 140, 248, 0.65), rgba(99, 102, 241, 0.45));
            animation-delay: -7s;
        }
        .card-elevated {
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .card-elevated::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(59,130,246,0.12), rgba(99,102,241,0.08), rgba(167,139,250,0.06));
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
        }
        .card-elevated:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow:
                0 25px 50px rgba(15, 23, 42, 0.15),
                0 10px 25px rgba(59, 130, 246, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }
        .card-elevated:hover::after {
            opacity: 1;
        }
        .dark .card-elevated:hover {
            box-shadow:
                0 25px 50px rgba(0, 0, 0, 0.3),
                0 10px 25px rgba(59, 130, 246, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        .slider-container input[type="range"] {
            min-height: 44px;
        }
        .slider-container input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            background: transparent;
            cursor: pointer;
        }
        .slider-container input[type="range"]::-webkit-slider-track {
            background: linear-gradient(90deg, #e5e7eb 0%, #d1d5db 100%);
            height: 10px;
            border-radius: 5px;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        .slider-container input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            height: 28px;
            width: 28px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow:
                0 4px 12px rgba(37, 99, 235, 0.4),
                0 2px 4px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            cursor: grab;
            transition: all 0.2s ease;
        }
        .slider-container input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow:
                0 6px 16px rgba(37, 99, 235, 0.5),
                0 4px 8px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
        }
        .slider-container input[type="range"]::-webkit-slider-thumb:active {
            cursor: grabbing;
            transform: scale(0.95);
        }
        .responsive-table {
            width: 100%;
            table-layout: fixed;
            border-collapse: separate;
            border-spacing: 0;
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.9), rgba(248, 250, 252, 0.9));
            border-radius: 12px;
            overflow: hidden;
            box-shadow:
                0 10px 25px rgba(0, 0, 0, 0.1),
                0 4px 10px rgba(0, 0, 0, 0.05);
        }
        .responsive-table th {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
            padding: 16px;
            font-weight: 600;
            text-align: left;
            border: none;
            position: relative;
        }
        .responsive-table th::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        }
        .responsive-table td {
            padding: 16px;
            border-bottom: 1px solid rgba(229, 231, 235, 0.5);
            transition: all 0.2s ease;
            white-space: normal;
            word-break: break-word;
        }
        .responsive-table tr:hover td {
            background: linear-gradient(90deg, rgba(59, 130, 246, 0.05), rgba(99, 102, 241, 0.03));
        }
        .dark .responsive-table {
            background: linear-gradient(145deg, rgba(55, 65, 81, 0.9), rgba(31, 41, 55, 0.9));
        }
        .dark .responsive-table td {
            border-bottom-color: rgba(75, 85, 99, 0.5);
        }
        .dark .responsive-table tr:hover td {
            background: linear-gradient(90deg, rgba(59, 130, 246, 0.1), rgba(99, 102, 241, 0.06));
        }
        .stepper-step.active {
            background-color: #2563eb;
            color: #ffffff;
        }
        .stepper-step.completed {
            background-color: #16a34a;
            color: #ffffff;
        }
        .tooltip { position: relative; }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 220px;
            background-color: #1f2937;
            color: white;
            text-center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -110px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 14px;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        .dark .tooltip .tooltiptext {
            background-color: #374151;
        }
        .mobile-nav-bar {
            width: 100%;
            padding-bottom: 0.25rem;
            margin-left: 0;
            margin-right: 0;
            scrollbar-width: none;
        }
        .mobile-nav-bar::-webkit-scrollbar {
            display: none;
        }
        .mobile-nav-bar .nav-link {
            flex-shrink: 0;
        }
        .faq-arrow {
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        .faq-arrow.rotate-180 {
            transform: rotate(180deg);
        }
        .toc-sidebar {
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }
        .toc-sidebar.is-visible {
            transform: translateX(0);
        }
        [dir="rtl"] .toc-sidebar {
            left: auto;
            right: 0;
            transform: translateX(100%);
        }
        [dir="rtl"] .toc-sidebar.is-visible {
            transform: translateX(0);
        }
        .toc-button {
            left: 1rem;
        }
        [dir="rtl"] .toc-button {
            left: auto;
            right: 1rem;
        }
        @media (max-width: 767px) {
            #mobileMenu {
                display: none !important;
            }
            #mobileMenu:not(.hidden) {
                display: block !important;
            }
            .toc-sidebar {
                max-width: 18rem;
                width: 100vw;
            }
            .tooltip .tooltiptext {
                display: none;
            }
            .hero-section {
                padding: 2rem 1rem;
            }
            .hero-section h1 {
                font-size: 2rem;
                line-height: 2.5rem;
            }
            .hero-section p {
                font-size: 1rem;
                line-height: 1.5rem;
            }
            .card-elevated {
                margin-bottom: 1rem;
            }
            .responsive-table {
                font-size: 0.875rem;
            }
            .responsive-table th,
            .responsive-table td {
                padding: 12px 8px;
            }
            .slider-container {
                margin: 1rem 0;
            }
            .section-padding {
                padding-left: 1rem;
                padding-right: 1rem;
            }
        }
        @media (max-width: 480px) {
            .hero-section {
                padding: 1.5rem 0.75rem;
            }
            .hero-section h1 {
                font-size: 1.75rem;
                line-height: 2rem;
            }
            .hero-section .mt-6 {
                margin-top: 1rem;
                gap: 0.75rem;
            }
            .hero-section button {
                padding: 0.75rem 1.5rem;
                font-size: 0.875rem;
            }
            .responsive-table {
                font-size: 0.75rem;
            }
            .responsive-table th,
            .responsive-table td {
                padding: 8px 6px;
            }
            .section-padding {
                padding-left: 0.75rem;
                padding-right: 0.75rem;
                padding-top: 2rem;
                padding-bottom: 2rem;
            }
        }
    </style>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-300">
    <!-- Header -->
    <header class="bg-gradient-to-br from-blue-600 via-indigo-700 to-purple-800 text-white hero-section relative overflow-hidden">
        <div class="container-max section-padding text-center relative z-10">
            <h1 class="text-3xl sm:text-4xl md:text-6xl font-bold mb-4 leading-tight" data-i18n="heroTitle">Fired Heater Efficiency</h1>
            <p class="text-lg sm:text-xl md:text-2xl mb-2 leading-relaxed" data-i18n="heroSubtitle">API-560 Heat Loss Method, Measurement & Best Practices</p>
            <p class="text-base sm:text-lg opacity-90 max-w-4xl mx-auto" data-i18n="heroTagline">Master the science of thermal efficiency optimization in industrial fired heaters</p>
            <div class="mt-6 flex flex-col sm:flex-row items-center justify-center gap-3">
                <button id="darkModeToggle" class="px-6 py-3 bg-white/20 hover:bg-white/30 rounded-xl transition-all duration-300 backdrop-blur-sm border border-white/20 hover:border-white/40 hover:shadow-lg hover:shadow-white/20 hover:scale-105" aria-label="Toggle dark mode" data-i18n="darkModeToggle" data-i18n-attr="aria-label" data-i18n-attr-key="darkModeToggleLabel">
                    🌙 Dark Mode
                </button>
                <button id="languageToggle" class="px-6 py-3 bg-white/20 hover:bg-white/30 rounded-xl transition-all duration-300 backdrop-blur-sm border border-white/20 hover:border-white/40 hover:shadow-lg hover:shadow-white/20 hover:scale-105" aria-label="Switch language" data-i18n="languageToggle" data-i18n-attr="aria-label" data-i18n-attr-key="languageToggleLabel">
                    🌐 العربية
                </button>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav id="stickyNav" class="sticky top-0 z-50 bg-white/90 dark:bg-gray-900/90 border-b border-gray-200 dark:border-gray-700 sticky-nav">
        <div class="container-max px-4">
            <div class="flex flex-col gap-3 py-4 md:flex-row md:items-center md:justify-between md:py-0">
                <div class="hidden md:flex space-x-8 overflow-x-auto">
                    <a href="#overview" data-section-id="overview" class="nav-link px-3 py-2 text-sm font-medium hover:text-blue-600 transition-colors" data-i18n="navOverview">Overview</a>
                    <a href="#api-560" data-section-id="api-560" class="nav-link px-3 py-2 text-sm font-medium hover:text-blue-600 transition-colors" data-i18n="navApi560">API-560 Method</a>
                    <a href="#measurements" data-section-id="measurements" class="nav-link px-3 py-2 text-sm font-medium hover:text-blue-600 transition-colors" data-i18n="navMeasurements">Measurements</a>
                    <a href="#configurations" data-section-id="configurations" class="nav-link px-3 py-2 text-sm font-medium hover:text-blue-600 transition-colors" data-i18n="navConfigurations">Complex Configurations</a>
                    <a href="#examples" data-section-id="examples" class="nav-link px-3 py-2 text-sm font-medium hover:text-blue-600 transition-colors" data-i18n="navExamples">Examples</a>
                    <a href="#tools" data-section-id="tools" class="nav-link px-3 py-2 text-sm font-medium hover:text-blue-600 transition-colors" data-i18n="navTools">Tools & Downloads</a>
                    <a href="#faq" data-section-id="faq" class="nav-link px-3 py-2 text-sm font-medium hover:text-blue-600 transition-colors" data-i18n="navFaq">FAQ</a>
                </div>
                <div class="flex md:hidden items-center justify-between gap-3">
                    <div class="flex-1 min-w-0 flex items-center gap-2 overflow-x-auto mobile-nav-bar">
                        <a href="#nav-overview" data-section-id="overview" class="nav-link px-3 py-2 text-sm font-medium rounded-full bg-white/80 dark:bg-gray-800/70 shadow-sm whitespace-nowrap transition-colors" data-i18n="navOverview">Overview</a>
                        <a href="#nav-api-560" data-section-id="api-560" class="nav-link px-3 py-2 text-sm font-medium rounded-full bg-white/80 dark:bg-gray-800/70 shadow-sm whitespace-nowrap transition-colors" data-i18n="navApi560">API-560 Method</a>
                        <a href="#nav-measurements" data-section-id="measurements" class="nav-link px-3 py-2 text-sm font-medium rounded-full bg-white/80 dark:bg-gray-800/70 shadow-sm whitespace-nowrap transition-colors" data-i18n="navMeasurements">Measurements</a>
                        <a href="#nav-configurations" data-section-id="configurations" class="nav-link px-3 py-2 text-sm font-medium rounded-full bg-white/80 dark:bg-gray-800/70 shadow-sm whitespace-nowrap transition-colors" data-i18n="navConfigurations">Complex Configurations</a>
                        <a href="#nav-examples" data-section-id="examples" class="nav-link px-3 py-2 text-sm font-medium rounded-full bg-white/80 dark:bg-gray-800/70 shadow-sm whitespace-nowrap transition-colors" data-i18n="navExamples">Examples</a>
                        <a href="#nav-tools" data-section-id="tools" class="nav-link px-3 py-2 text-sm font-medium rounded-full bg-white/80 dark:bg-gray-800/70 shadow-sm whitespace-nowrap transition-colors" data-i18n="navTools">Tools & Downloads</a>
                        <a href="#nav-faq" data-section-id="faq" class="nav-link px-3 py-2 text-sm font-medium rounded-full bg-white/80 dark:bg-gray-800/70 shadow-sm whitespace-nowrap transition-colors" data-i18n="navFaq">FAQ</a>
                    </div>
                    <button id="mobileMenuToggle" class="md:hidden p-2" aria-label="Toggle mobile menu">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobileMenu" class="hidden bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700">
            <div class="px-4 py-2 space-y-1">
                <a href="#menu-overview" data-section-id="overview" class="block px-3 py-2 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md mobile-nav-link" data-i18n="navOverview">Overview</a>
                <a href="#menu-api-560" data-section-id="api-560" class="block px-3 py-2 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md mobile-nav-link" data-i18n="navApi560">API-560 Method</a>
                <a href="#menu-measurements" data-section-id="measurements" class="block px-3 py-2 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md mobile-nav-link" data-i18n="navMeasurements">Measurements</a>
                <a href="#menu-configurations" data-section-id="configurations" class="block px-3 py-2 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md mobile-nav-link" data-i18n="navConfigurations">Complex Configurations</a>
                <a href="#menu-examples" data-section-id="examples" class="block px-3 py-2 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md mobile-nav-link" data-i18n="navExamples">Examples</a>
                <a href="#menu-tools" data-section-id="tools" class="block px-3 py-2 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md mobile-nav-link" data-i18n="navTools">Tools & Downloads</a>
                <a href="#menu-faq" data-section-id="faq" class="block px-3 py-2 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md mobile-nav-link" data-i18n="navFaq">FAQ</a>
            </div>
        </div>
    </nav>

    <!-- Table of Contents Sidebar -->
    <div id="tocSidebar" class="toc-sidebar fixed top-24 md:top-28 h-[calc(100vh-6rem)] w-full max-w-xs md:w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 z-40 overflow-y-auto shadow-xl md:shadow-none rounded-r-3xl md:rounded-none -translate-x-full">
        <div class="p-6">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold" data-i18n="tocTitle">Table of Contents</h3>
                <button id="tocToggle" class="p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded" aria-label="Toggle table of contents" data-i18n="tocToggle" data-i18n-attr="aria-label">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <nav id="tocNav" class="space-y-2 text-sm">
                <!-- TOC items will be generated by JavaScript -->
            </nav>
        </div>
    </div>

    <!-- TOC Toggle Button -->
    <button id="tocButton" class="toc-button fixed top-28 md:top-32 z-50 p-3 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-colors" aria-label="Open table of contents" data-i18n="tocOpen" data-i18n-attr="aria-label">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16"></path>
        </svg>
    </button>

    <!-- Main Content -->
    <main class="lg:ml-0">
        <!-- Overview Section -->
        <section id="overview" class="section-padding bg-gray-50 dark:bg-gray-800">
            <div class="container-max">
                <h2 class="text-3xl font-bold mb-8 text-center" data-i18n="overviewTitle">What, Why, and How of Fired Heater Efficiency</h2>
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md card-elevated">
                        <div class="text-4xl mb-4 text-center">🔥</div>
                        <h3 class="text-xl font-semibold mb-3" data-i18n="overviewCard1Title">What is Efficiency?</h3>
                        <p class="text-gray-600 dark:text-gray-300" data-i18n="overviewCard1Text">Fired heater efficiency measures how effectively fuel energy is converted to useful process heat. Three key metrics: fuel efficiency (commercial), thermal efficiency (holistic), and combustion efficiency (burner performance).</p>
                    </div>
                    <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md card-elevated">
                        <div class="text-4xl mb-4 text-center">💰</div>
                        <h3 class="text-xl font-semibold mb-3" data-i18n="overviewCard2Title">Why It Matters</h3>
                        <p class="text-gray-600 dark:text-gray-300" data-i18n="overviewCard2Text">Fired heaters are the largest energy consumers in refineries. A 1% efficiency improvement on a large heater can save millions annually while reducing emissions and enhancing safety.</p>
                    </div>
                    <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md card-elevated">
                        <div class="text-4xl mb-4 text-center">📊</div>
                        <h3 class="text-xl font-semibold mb-3" data-i18n="overviewCard3Title">How to Optimize</h3>
                        <p class="text-gray-600 dark:text-gray-300" data-i18n="overviewCard3Text">Through precise measurement using API-560 standards, minimizing stack losses, reducing excess air, and implementing advanced control systems for real-time optimization.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- API-560 Method Section -->
        <section id="api-560" class="section-padding">
            <div class="container-max">
                <h2 class="text-3xl font-bold mb-8 text-center" data-i18n="apiTitle">API-560 in 5 Steps</h2>
                <div class="flex flex-wrap justify-center items-center space-x-4 mb-12">
                    <div class="stepper-step tooltip flex items-center justify-center w-12 h-12 bg-gray-300 text-gray-700 rounded-full font-semibold mb-4 sm:mb-0" data-step="1">
                        1
                        <span class="tooltiptext" data-i18n="apiStep1">Collect operational data: temperatures, oxygen levels, fuel composition, and humidity under steady-state conditions</span>
                    </div>
                    <div class="hidden sm:block w-8 h-1 bg-gray-300"></div>
                    <div class="stepper-step tooltip flex items-center justify-center w-12 h-12 bg-gray-300 text-gray-700 rounded-full font-semibold mb-4 sm:mb-0" data-step="2">
                        2
                        <span class="tooltiptext" data-i18n="apiStep2">Complete combustion worksheet using fuel composition to calculate stoichiometric parameters and heat release</span>
                    </div>
                    <div class="hidden sm:block w-8 h-1 bg-gray-300"></div>
                    <div class="stepper-step tooltip flex items-center justify-center w-12 h-12 bg-gray-300 text-gray-700 rounded-full font-semibold mb-4 sm:mb-0" data-step="3">
                        3
                        <span class="tooltiptext" data-i18n="apiStep3">Calculate excess air from oxygen measurements and determine all sensible heat credits from preheated inputs</span>
                    </div>
                    <div class="hidden sm:block w-8 h-1 bg-gray-300"></div>
                    <div class="stepper-step tooltip flex items-center justify-center w-12 h-12 bg-gray-300 text-gray-700 rounded-full font-semibold mb-4 sm:mb-0" data-step="4">
                        4
                        <span class="tooltiptext" data-i18n="apiStep4">Quantify heat losses: stack loss (largest), radiation loss, and incomplete combustion losses</span>
                    </div>
                    <div class="hidden sm:block w-8 h-1 bg-gray-300"></div>
                    <div class="stepper-step tooltip flex items-center justify-center w-12 h-12 bg-gray-300 text-gray-700 rounded-full font-semibold mb-4 sm:mb-0" data-step="5">
                        5
                        <span class="tooltiptext" data-i18n="apiStep5">Apply final efficiency formulas: thermal efficiency and fuel efficiency calculations based on energy balance</span>
                    </div>
                </div>

                <!-- Key Losses Visual -->
                <h3 class="text-2xl font-semibold mb-6 text-center" data-i18n="keyLossesTitle">Key Energy Losses</h3>
                <div class="grid md:grid-cols-3 gap-6 mb-12">
                    <div class="bg-red-50 dark:bg-red-900/20 p-6 rounded-lg border-l-4 border-red-500">
                        <h4 class="text-lg font-semibold text-red-700 dark:text-red-400 mb-2" data-i18n="keyLossesCard1Title">Stack Loss (60-85%)</h4>
                        <p class="text-gray-600 dark:text-gray-300" data-i18n="keyLossesCard1Text">Heat carried away by hot flue gases. Controlled by reducing stack temperature and minimizing excess air.</p>
                    </div>
                    <div class="bg-orange-50 dark:bg-orange-900/20 p-6 rounded-lg border-l-4 border-orange-500">
                        <h4 class="text-lg font-semibold text-orange-700 dark:text-orange-400 mb-2" data-i18n="keyLossesCard2Title">Setting Loss (1.5-2.5%)</h4>
                        <p class="text-gray-600 dark:text-gray-300" data-i18n="keyLossesCard2Text">Heat lost through external surfaces via radiation and convection. Indicates refractory condition.</p>
                    </div>
                    <div class="bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-lg border-l-4 border-yellow-500">
                        <h4 class="text-lg font-semibold text-yellow-700 dark:text-yellow-400 mb-2" data-i18n="keyLossesCard3Title">Incomplete Combustion (~0%)</h4>
                        <p class="text-gray-600 dark:text-gray-300" data-i18n="keyLossesCard3Text">Energy lost due to unburned fuel (CO, hydrocarbons). Should be negligible in well-operated heaters.</p>
                    </div>
                </div>

                <!-- Mermaid Flowchart -->
                <h3 class="text-2xl font-semibold mb-6 text-center" data-i18n="workflowTitle">Annex G Workflow</h3>
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md card-elevated">
                    <div id="mermaidChart" class="mermaid text-center"></div>
                </div>
            </div>
        </section>

        <!-- Interactive Widgets Section -->
        <section id="interactive" class="section-padding bg-gray-50 dark:bg-gray-800">
            <div class="container-max">
                <h2 class="text-3xl font-bold mb-8 text-center" data-i18n="interactiveTitle">Interactive Efficiency Tools</h2>

                <!-- Excess Air vs Efficiency Widget -->
                <div class="grid lg:grid-cols-2 gap-8 mb-12">
                    <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md card-elevated">
                        <h3 class="text-xl font-semibold mb-4" data-i18n="excessAirCardTitle">Excess Air vs. Efficiency</h3>
                        <div class="slider-container mb-4">
                            <label for="excessAirSlider" class="block text-sm font-medium mb-2"><span data-i18n="excessAirLabel">Excess Air</span>: <span id="excessAirValue">15</span>%</label>
                            <input type="range" id="excessAirSlider" min="0" max="50" value="15" class="w-full h-2 bg-gray-200 rounded-lg cursor-pointer">
                        </div>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-sm" data-i18n="estimatedEfficiency">Estimated Efficiency:</span>
                                <span id="efficiencyValue" class="font-semibold text-lg text-green-600">87.5%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-4">
                                <div id="stackLossBar" class="bg-red-500 h-4 rounded-full transition-all duration-300" style="width: 12.5%"></div>
                            </div>
                            <div class="text-xs text-gray-600 dark:text-gray-400 text-center">
                                <span data-i18n="stackLossLabel">Stack Loss</span>: <span id="stackLossValue">12.5%</span>
                            </div>
                        </div>
                    </div>

                    <!-- Stack Temperature Impact Widget -->
                    <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md card-elevated">
                        <h3 class="text-xl font-semibold mb-4" data-i18n="stackTempCardTitle">Stack Temperature Impact</h3>
                        <div class="slider-container mb-4">
                            <label for="stackTempSlider" class="block text-sm font-medium mb-2"><span data-i18n="stackTempLabel">Stack Temperature</span>: <span id="stackTempValue">300</span>°C</label>
                            <input type="range" id="stackTempSlider" min="200" max="450" value="300" class="w-full h-2 bg-gray-200 rounded-lg cursor-pointer">
                        </div>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-sm" data-i18n="temperatureLoss">Temperature Loss:</span>
                                <span id="tempLossValue" class="font-semibold text-lg text-orange-600">8.2%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-4">
                                <div id="tempLossBar" class="bg-orange-500 h-4 rounded-full transition-all duration-300" style="width: 8.2%"></div>
                            </div>
                            <div class="text-xs text-gray-600 dark:text-gray-400" data-i18n="optimalRange">Optimal range: 200-320°C</div>
                        </div>
                    </div>
                </div>

                <!-- Checklist Widget -->
                <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md card-elevated">
                    <h3 class="text-xl font-semibold mb-4" data-i18n="checklistTitle">Efficiency Test Checklist</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="space-y-3">
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" class="checklist-item form-checkbox h-5 w-5 text-blue-600" data-item="steady-state">
                                <span class="text-sm" data-i18n="checklistItem1">Achieve steady-state operation (2+ hours)</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" class="checklist-item form-checkbox h-5 w-5 text-blue-600" data-item="calibration">
                                <span class="text-sm" data-i18n="checklistItem2">Verify instrument calibration</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" class="checklist-item form-checkbox h-5 w-5 text-blue-600" data-item="fuel-analysis">
                                <span class="text-sm" data-i18n="checklistItem3">Obtain representative fuel analysis</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" class="checklist-item form-checkbox h-5 w-5 text-blue-600" data-item="probe-location">
                                <span class="text-sm" data-i18n="checklistItem4">Verify flue gas probe location</span>
                            </label>
                        </div>
                        <div class="space-y-3">
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" class="checklist-item form-checkbox h-5 w-5 text-blue-600" data-item="air-leaks">
                                <span class="text-sm" data-i18n="checklistItem5">Check for air leaks/seal openings</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" class="checklist-item form-checkbox h-5 w-5 text-blue-600" data-item="ambient-conditions">
                                <span class="text-sm" data-i18n="checklistItem6">Record ambient conditions</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" class="checklist-item form-checkbox h-5 w-5 text-blue-600" data-item="temperature-grid">
                                <span class="text-sm" data-i18n="checklistItem7">Use temperature measurement grid</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" class="checklist-item form-checkbox h-5 w-5 text-blue-600" data-item="documentation">
                                <span class="text-sm" data-i18n="checklistItem8">Document all measurements</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Measurements Section -->
        <section id="measurements" class="section-padding">
            <div class="container-max">
                <h2 class="text-3xl font-bold mb-8" data-i18n="measurementsTitle">Instrumentation and Measurement</h2>

                <!-- Required Inputs Table -->
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden mb-8">
                    <div class="px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600">
                        <h3 class="text-lg font-semibold" data-i18n="inputsTitle">Required Input Parameters</h3>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="responsive-table min-w-full divide-y divide-gray-200 dark:divide-gray-600">
                            <thead class="bg-gray-50 dark:bg-gray-700">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" data-i18n="parameterColumn">Parameter</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" data-i18n="symbolColumn">Symbol</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" data-i18n="unitsColumn">Units</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" data-i18n="methodColumn">Measurement Method</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600">
                                  <tr>
                                      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium" data-i18n="ambientAir">Ambient Air Temperature</td>
                                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">Ta</td>
                                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">°C / °F</td>
                                      <td class="px-6 py-4 text-sm text-gray-500 dark:text-gray-300" data-i18n="ambientMethod">Calibrated thermometer, shielded from radiation</td>
                                  </tr>
                                  <tr>
                                      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium" data-i18n="relativeHumidity">Relative Humidity</td>
                                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">RH</td>
                                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">%</td>
                                      <td class="px-6 py-4 text-sm text-gray-500 dark:text-gray-300" data-i18n="humidityMethod">Sling psychrometer or electronic sensor</td>
                                  </tr>
                                  <tr>
                                      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium" data-i18n="flueExitTemp">Flue Gas Exit Temperature</td>
                                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">Te</td>
                                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">°C / °F</td>
                                      <td class="px-6 py-4 text-sm text-gray-500 dark:text-gray-300" data-i18n="flueExitMethod">Multi-point traverse or thermocouple grid</td>
                                  </tr>
                                  <tr>
                                      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium" data-i18n="flueGasOxygen">Flue Gas Oxygen</td>
                                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">O₂</td>
                                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">vol %</td>
                                      <td class="px-6 py-4 text-sm text-gray-500 dark:text-gray-300" data-i18n="flueGasMethod">Zirconia oxide or electrochemical analyzer</td>
                                  </tr>
                                  <tr>
                                      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium" data-i18n="fuelComposition">Fuel Composition</td>
                                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">-</td>
                                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">vol % / mass %</td>
                                      <td class="px-6 py-4 text-sm text-gray-500 dark:text-gray-300" data-i18n="fuelMethod">Gas chromatograph analysis</td>
                                  </tr>
                                  <tr>
                                      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium" data-i18n="lowerHeatingValue">Lower Heating Value</td>
                                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">LHV</td>
                                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">kJ/kg</td>
                                      <td class="px-6 py-4 text-sm text-gray-500 dark:text-gray-300" data-i18n="lhvMethod">Calculated from composition or calorimetry</td>
                                  </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Best Practices -->
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg">
                        <h3 class="text-lg font-semibold text-blue-800 dark:text-blue-400 mb-4" data-i18n="bestPracticesTitle">✅ Best Practices</h3>
                        <ul class="space-y-2 text-sm text-gray-700 dark:text-gray-300">
                            <li data-i18n="bestPractice1">• Place probes downstream of final heat transfer surface</li>
                            <li data-i18n="bestPractice2">• Sample in central third of duct cross-section</li>
                            <li data-i18n="bestPractice3">• Use EPA Method 1 for large duct traverses</li>
                            <li data-i18n="bestPractice4">• Co-locate O₂ and temperature sensors</li>
                            <li data-i18n="bestPractice5">• Calibrate instruments before each test</li>
                            <li data-i18n="bestPractice6">• Seal all test ports during measurement</li>
                        </ul>
                    </div>
                    <div class="bg-red-50 dark:bg-red-900/20 p-6 rounded-lg">
                        <h3 class="text-lg font-semibold text-red-800 dark:text-red-400 mb-4" data-i18n="commonErrorsTitle">❌ Common Errors</h3>
                        <ul class="space-y-2 text-sm text-gray-700 dark:text-gray-300">
                            <li data-i18n="commonError1">• Sampling upstream of air leaks (tramp air)</li>
                            <li data-i18n="commonError2">• Single-point measurement in stratified flow</li>
                            <li data-i18n="commonError3">• Uncalibrated or drifting instruments</li>
                            <li data-i18n="commonError4">• Non-representative fuel samples</li>
                            <li data-i18n="commonError5">• Ignoring humidity in air calculations</li>
                            <li data-i18n="commonError6">• Operating during transient conditions</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Complex Configurations Section -->
        <section id="configurations" class="section-padding bg-gray-50 dark:bg-gray-800">
            <div class="container-max">
                <h2 class="text-3xl font-bold mb-8" data-i18n="configTitle">Complex Heater Configurations</h2>

                <div class="grid lg:grid-cols-2 gap-8">
                    <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md card-elevated">
                        <h3 class="text-xl font-semibold mb-4" data-i18n="multiCellTitle">Multi-Cell with Common Convection</h3>
                        <div class="mb-4">
                            <svg class="w-full h-48" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                                <rect x="50" y="80" width="80" height="60" fill="currentColor" fill-opacity="0.1" stroke="currentColor" stroke-width="2"/>
                                <text x="90" y="115" text-anchor="middle" class="text-xs fill-current">Cell A</text>
                                <rect x="270" y="80" width="80" height="60" fill="currentColor" fill-opacity="0.1" stroke="currentColor" stroke-width="2"/>
                                <text x="310" y="115" text-anchor="middle" class="text-xs fill-current">Cell B</text>
                                <rect x="160" y="60" width="80" height="80" fill="currentColor" fill-opacity="0.2" stroke="currentColor" stroke-width="2"/>
                                <text x="200" y="105" text-anchor="middle" class="text-xs fill-current">Common Convection</text>
                                <path d="M130 110 L160 110" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)"/>
                                <path d="M270 110 L240 110" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)"/>
                                <path d="M200 60 L200 40" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)"/>
                                <text x="200" y="30" text-anchor="middle" class="text-xs fill-current">Stack</text>
                                <defs>
                                    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                        <polygon points="0 0, 10 3.5, 0 7" fill="currentColor"/>
                                    </marker>
                                </defs>
                            </svg>
                        </div>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-4" data-i18n="multiCellText">Multiple radiant cells sharing a common convection section. Overall efficiency calculated from single stack measurement, but cell-specific monitoring required for control.</p>
                        <div class="text-xs text-gray-500 dark:text-gray-400">
                            <strong data-i18n="keyChallengeLabel">Key Challenge:</strong> <span data-i18n="keyChallengeText">Individual cell performance masked in overall measurement</span>
                        </div>
                    </div>

                    <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md card-elevated">
                        <h3 class="text-xl font-semibold mb-4" data-i18n="independentTitle">Independent Heaters, Common Stack</h3>
                        <div class="mb-4">
                            <svg class="w-full h-48" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                                <rect x="50" y="100" width="60" height="80" fill="currentColor" fill-opacity="0.1" stroke="currentColor" stroke-width="2"/>
                                <text x="80" y="145" text-anchor="middle" class="text-xs fill-current">Heater 1</text>
                                <rect x="290" y="100" width="60" height="80" fill="currentColor" fill-opacity="0.1" stroke="currentColor" stroke-width="2"/>
                                <text x="320" y="145" text-anchor="middle" class="text-xs fill-current">Heater 2</text>
                                <path d="M110 130 L160 130 L160 80 L240 80 L240 130 L290 130" stroke="currentColor" stroke-width="2" fill="none"/>
                                <path d="M200 80 L200 40" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead2)"/>
                                <text x="200" y="30" text-anchor="middle" class="text-xs fill-current">Common Stack</text>
                                <circle cx="80" cy="90" r="3" fill="red"/>
                                <text x="85" y="88" class="text-xs fill-red-500">O₂</text>
                                <circle cx="320" cy="90" r="3" fill="red"/>
                                <text x="325" y="88" class="text-xs fill-red-500">O₂</text>
                                <defs>
                                    <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                        <polygon points="0 0, 10 3.5, 0 7" fill="currentColor"/>
                                    </marker>
                                </defs>
                            </svg>
                        </div>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-4" data-i18n="independentText">Independent heaters with separate process services sharing a common stack. Each heater requires individual flue gas measurement for meaningful performance monitoring.</p>
                        <div class="text-xs text-gray-500 dark:text-gray-400">
                            <strong data-i18n="keyRequirementLabel">Key Requirement:</strong> <span data-i18n="keyRequirementText">Individual O₂ and temperature measurement before gas streams combine</span>
                        </div>
                    </div>
                </div>

                <div class="mt-8 bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-lg border-l-4 border-yellow-500">
                    <h4 class="text-lg font-semibold text-yellow-800 dark:text-yellow-400 mb-2" data-i18n="measurementStrategyTitle">⚠️ Measurement Strategy</h4>
                    <p class="text-gray-700 dark:text-gray-300" data-i18n="measurementStrategyText">For complex configurations, the "black box" API-560 approach is insufficient for diagnostics and control. Use process simulators (Aspen HYSYS) or CFD (OpenFOAM) for detailed analysis of internal behavior and optimization opportunities.</p>
                </div>
            </div>
        </section>

        <!-- Examples Section -->
        <section id="examples" class="section-padding">
            <div class="container-max">
                <h2 class="text-3xl font-bold mb-8" data-i18n="examplesTitle">Example Calculations & Sensitivity Analysis</h2>

                <!-- Combustion Worksheet Example -->
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden mb-8">
                    <div class="px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600">
                        <h3 class="text-lg font-semibold" data-i18n="combustionTitle">API-560 Combustion Worksheet (Sample)</h3>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="responsive-table min-w-full divide-y divide-gray-200 dark:divide-gray-600 text-sm">
                            <thead class="bg-gray-50 dark:bg-gray-700">
                                <tr>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase" data-i18n="componentColumn">Component</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase" data-i18n="volColumn">Vol %</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase" data-i18n="molColumn">Mol. Wt.</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase" data-i18n="massFractionColumn">Mass Fraction</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase" data-i18n="lhvColumn">LHV (kJ/kg)</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase" data-i18n="lhvContributionColumn">LHV Contrib.</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase" data-i18n="stoichColumn">Stoich. Air</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600">
                                <tr>
                                    <td class="px-4 py-4 font-medium">CH₄</td>
                                    <td class="px-4 py-4">92.5</td>
                                    <td class="px-4 py-4">16.04</td>
                                    <td class="px-4 py-4">0.8534</td>
                                    <td class="px-4 py-4">50,016</td>
                                    <td class="px-4 py-4">42,689</td>
                                    <td class="px-4 py-4">14.65</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-4 font-medium">C₂H₆</td>
                                    <td class="px-4 py-4">5.0</td>
                                    <td class="px-4 py-4">30.07</td>
                                    <td class="px-4 py-4">0.0863</td>
                                    <td class="px-4 py-4">47,490</td>
                                    <td class="px-4 py-4">4,098</td>
                                    <td class="px-4 py-4">1.38</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-4 font-medium">N₂</td>
                                    <td class="px-4 py-4">1.5</td>
                                    <td class="px-4 py-4">28.01</td>
                                    <td class="px-4 py-4">0.0241</td>
                                    <td class="px-4 py-4">0</td>
                                    <td class="px-4 py-4">0</td>
                                    <td class="px-4 py-4">0</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-4 font-medium">CO₂</td>
                                    <td class="px-4 py-4">1.0</td>
                                    <td class="px-4 py-4">44.01</td>
                                    <td class="px-4 py-4">0.0362</td>
                                    <td class="px-4 py-4">0</td>
                                    <td class="px-4 py-4">0</td>
                                    <td class="px-4 py-4">0</td>
                                </tr>
                                <tr class="bg-gray-50 dark:bg-gray-700 font-semibold">
                                    <td class="px-4 py-4">Total</td>
                                    <td class="px-4 py-4">100.0</td>
                                    <td class="px-4 py-4">-</td>
                                    <td class="px-4 py-4">1.000</td>
                                    <td class="px-4 py-4">-</td>
                                    <td class="px-4 py-4">46,787</td>
                                    <td class="px-4 py-4">16.03</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Sensitivity Analysis Chart -->
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md card-elevated">
                    <h3 class="text-lg font-semibold mb-4" data-i18n="chartTitle">Sensitivity Analysis: Stack Temperature vs. Efficiency</h3>
                    <div class="h-64">
                        <canvas id="sensitivityChart"></canvas>
                    </div>
                    <p class="text-sm text-gray-600 dark:text-gray-300 mt-4" data-i18n="chartDescription">This chart shows how efficiency decreases with increasing stack temperature. A 50°C increase from 300°C to 350°C typically reduces efficiency by 2-3 percentage points.</p>
                </div>
            </div>
        </section>

        <!-- Tools & Downloads Section -->
        <section id="tools" class="section-padding bg-gray-50 dark:bg-gray-800">
            <div class="container-max">
                <h2 class="text-3xl font-bold mb-8 text-center" data-i18n="toolsTitle">Tools & Downloads</h2>

                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                    <!-- Download Report Button -->
                    <div class="lg:col-span-3 flex justify-center mb-8">
                        <a href="./Fired Heater Efficiency Calculation Methods.md" download class="inline-flex items-center px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition-colors duration-200 text-lg" data-i18n="downloadReport">
                            📄 Download the Full Report (.md)
                        </a>
                    </div>

                    <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md text-center card-elevated">
                        <div class="text-3xl mb-4">📊</div>
                        <h3 class="text-lg font-semibold mb-2" data-i18n="excelTitle">Excel Template</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-4" data-i18n="excelDescription">API-560 Annex G calculation spreadsheet with built-in formulas and validation.</p>
                        <button class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded transition-colors" type="button" data-i18n="excelButton" data-alert-key="templateAlert">Download</button>
                    </div>

                    <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md text-center card-elevated">
                        <div class="text-3xl mb-4">🐍</div>
                        <h3 class="text-lg font-semibold mb-2" data-i18n="pythonTitle">Python Library</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-4" data-i18n="pythonDescription">Open-source library for automated efficiency calculations and sensitivity analysis.</p>
                        <button class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors" type="button" data-i18n="pythonButton" data-alert-key="libraryAlert">GitHub</button>
                    </div>

                    <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md text-center card-elevated">
                        <div class="text-3xl mb-4">📱</div>
                        <h3 class="text-lg font-semibold mb-2" data-i18n="mobileTitle">Mobile Calculator</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-4" data-i18n="mobileDescription">Quick efficiency estimates and excess air calculations for field use.</p>
                        <button class="px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded transition-colors" type="button" data-i18n="mobileButton" data-alert-key="mobileAlert">App Store</button>
                    </div>
                </div>

                <!-- Software Comparison -->
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden">
                    <div class="px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600">
                        <h3 class="text-lg font-semibold" data-i18n="softwareTitle">Software Comparison Matrix</h3>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="responsive-table min-w-full divide-y divide-gray-200 dark:divide-gray-600 text-sm">
                            <thead class="bg-gray-50 dark:bg-gray-700">
                                <tr>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase" data-i18n="softwareColumnTool">Tool</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase" data-i18n="softwareColumnCost">Cost</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase" data-i18n="softwareColumnExpertise">Expertise</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase" data-i18n="softwareColumnAccuracy">Accuracy</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase" data-i18n="softwareColumnBestFor">Best For</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600">
                                  <tr>
                                      <td class="px-4 py-4 font-medium" data-i18n="softwareExcel">Excel Spreadsheet</td>
                                      <td class="px-4 py-4"><span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs" data-i18n="costLow">Low</span></td>
                                      <td class="px-4 py-4"><span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs" data-i18n="expertiseMedium">Medium</span></td>
                                      <td class="px-4 py-4"><span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs" data-i18n="accuracyHigh">High</span></td>
                                      <td class="px-4 py-4" data-i18n="softwareExcelBest">API-560 calculations, custom reporting</td>
                                  </tr>
                                  <tr>
                                      <td class="px-4 py-4 font-medium" data-i18n="softwareHeaterSim">HeaterSIM</td>
                                      <td class="px-4 py-4"><span class="px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs" data-i18n="costHigh">High</span></td>
                                      <td class="px-4 py-4"><span class="px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs" data-i18n="expertiseHigh">High</span></td>
                                      <td class="px-4 py-4"><span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs" data-i18n="accuracyVeryHigh">Very High</span></td>
                                      <td class="px-4 py-4" data-i18n="softwareHeaterSimBest">Detailed design, thermal modeling</td>
                                  </tr>
                                  <tr>
                                      <td class="px-4 py-4 font-medium" data-i18n="softwareAspen">Aspen HYSYS</td>
                                      <td class="px-4 py-4"><span class="px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs" data-i18n="costVeryHigh">Very High</span></td>
                                      <td class="px-4 py-4"><span class="px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs" data-i18n="expertiseHigh">High</span></td>
                                      <td class="px-4 py-4"><span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs" data-i18n="accuracyHigh">High</span></td>
                                      <td class="px-4 py-4" data-i18n="softwareAspenBest">Plant-wide simulation, integration</td>
                                  </tr>
                                  <tr>
                                      <td class="px-4 py-4 font-medium" data-i18n="softwarePython">Python/MATLAB</td>
                                      <td class="px-4 py-4"><span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs" data-i18n="costLow">Low</span></td>
                                      <td class="px-4 py-4"><span class="px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs" data-i18n="expertiseHigh">High</span></td>
                                      <td class="px-4 py-4"><span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs" data-i18n="accuracyHigh">High</span></td>
                                      <td class="px-4 py-4" data-i18n="softwarePythonBest">Automation, sensitivity analysis</td>
                                  </tr>
                                  <tr>
                                      <td class="px-4 py-4 font-medium" data-i18n="softwareOnline">Online Calculators</td>
                                      <td class="px-4 py-4"><span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs" data-i18n="costFree">Free</span></td>
                                      <td class="px-4 py-4"><span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs" data-i18n="expertiseLow">Low</span></td>
                                      <td class="px-4 py-4"><span class="px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs" data-i18n="accuracyLow">Low</span></td>
                                      <td class="px-4 py-4" data-i18n="softwareOnlineBest">Quick estimates, education</td>
                                  </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section id="faq" class="section-padding">
            <div class="container-max">
                <h2 class="text-3xl font-bold mb-8 text-center" data-i18n="faqTitle">Frequently Asked Questions</h2>

                <div class="space-y-6">
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden">
                        <button class="faq-question w-full px-6 py-4 text-left bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors" data-target="faq1">
                            <div class="flex justify-between items-center">
                                <h3 class="text-lg font-semibold" data-i18n="faqQ1">Why use LHV instead of HHV for fired heater efficiency?</h3>
                                <span class="faq-arrow w-5 h-5 inline-flex items-center justify-center transition-transform">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </span>
                            </div>
                        </button>
                        <div id="faq1" class="faq-answer hidden px-6 py-4">
                            <p class="text-gray-600 dark:text-gray-300" data-i18n="faqA1">API-560 mandates LHV because fired heater stack temperatures (300-450°C) are well above water's dew point. The water vapor from combustion never condenses, so its latent heat is never recovered. LHV provides a realistic measure of usable energy, while HHV assumes latent heat recovery that doesn't occur in practice.</p>
                        </div>
                    </div>

                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden">
                        <button class="faq-question w-full px-6 py-4 text-left bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors" data-target="faq2">
                            <div class="flex justify-between items-center">
                                <h3 class="text-lg font-semibold" data-i18n="faqQ2">What's the biggest source of efficiency loss in fired heaters?</h3>
                                <span class="faq-arrow w-5 h-5 inline-flex items-center justify-center transition-transform">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </span>
                            </div>
                        </button>
                        <div id="faq2" class="faq-answer hidden px-6 py-4">
                            <p class="text-gray-600 dark:text-gray-300" data-i18n="faqA2">Stack loss is by far the largest efficiency loss, typically 60-85% of total losses. It's controlled by two main factors: stack temperature (lower is better) and excess air (minimize while maintaining complete combustion). A 50°C reduction in stack temperature can improve efficiency by 2-3 percentage points.</p>
                        </div>
                    </div>

                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden">
                        <button class="faq-question w-full px-6 py-4 text-left bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors" data-target="faq3">
                            <div class="flex justify-between items-center">
                                <h3 class="text-lg font-semibold" data-i18n="faqQ3">How accurate do flue gas measurements need to be?</h3>
                                <span class="faq-arrow w-5 h-5 inline-flex items-center justify-center transition-transform">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </span>
                            </div>
                        </button>
                        <div id="faq3" class="faq-answer hidden px-6 py-4">
                            <p class="text-gray-600 dark:text-gray-300" data-i18n="faqA3">Very accurate. A 5°C error in stack temperature measurement can cause a 0.5% error in calculated efficiency. Oxygen measurements should be accurate to ±0.1% for meaningful results. This is why proper calibration, representative sampling locations, and accounting for stratification in large ducts are critical.</p>
                        </div>
                    </div>

                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden">
                        <button class="faq-question w-full px-6 py-4 text-left bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors" data-target="faq4">
                            <div class="flex justify-between items-center">
                                <h3 class="text-lg font-semibold" data-i18n="faqQ4">Can I use API-560 for multi-cell heaters?</h3>
                                <span class="faq-arrow w-5 h-5 inline-flex items-center justify-center transition-transform">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </span>
                            </div>
                        </button>
                        <div id="faq4" class="faq-answer hidden px-6 py-4">
                            <p class="text-gray-600 dark:text-gray-300" data-i18n="faqA4">Yes, for overall efficiency. Treat the entire system as one unit with aggregated fuel inputs and a single measurement at the common stack. However, this provides no insight into individual cell performance. For control and diagnostics, each cell needs its own measurements before gas streams combine.</p>
                        </div>
                    </div>

                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden">
                        <button class="faq-question w-full px-6 py-4 text-left bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors" data-target="faq5">
                            <div class="flex justify-between items-center">
                                <h3 class="text-lg font-semibold" data-i18n="faqQ5">What's the difference between thermal and fuel efficiency?</h3>
                                <span class="faq-arrow w-5 h-5 inline-flex items-center justify-center transition-transform">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </span>
                            </div>
                        </button>
                        <div id="faq5" class="faq-answer hidden px-6 py-4">
                            <p class="text-gray-600 dark:text-gray-300" data-i18n="faqA5">Fuel efficiency measures useful heat absorbed vs. fuel heat input only. Thermal efficiency includes all heat inputs (fuel + preheated air + heated fuel). For economic analysis, fuel efficiency is more relevant as it directly relates to fuel costs. Thermal efficiency better represents overall system performance when air preheaters are installed.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white section-padding">
        <div class="container-max text-center">
            <p class="text-lg mb-4" data-i18n="footerCredit">Made by Ahmed Sabri with the help of AI</p>
            <p class="text-gray-400 text-sm" data-i18n="footerDescription">This site provides educational content on fired heater efficiency calculations using API-560 standards.</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script defer src="assets/js/main.js"></script>

</body>
</html>
